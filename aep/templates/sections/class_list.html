{% extends "base.html" %}
{% block head_title %}DCCAEP | Classes{% endblock head_title %}

{% block content %}
    <h1>Classes</h1>
    {% if request.GET %}
    <form id='class-filter' class='form-inline' method='get' action="{% url 'sections:class list' %}">
        <div class="form-group">
            <label class="sr-only" for="id_c_name">Class Name</label>
            <input class="form-control" id="id_c_name" name="c_name" value="{{form.c_name.value}}" type="text" placeholder="Class Name" />
        </div>
    <button type="submit" class="btn btn-default btn-sm">Filter Classes</button>
    {% else %}
    <form id='class-filter' class='form-inline' method='get' action="{% url 'sections:class list' %}">
        <div class="form-group">
            <label class="sr-only" for="id_c_name">Class Name</label>
            <input class="form-control" id="id_c_name" name="c_name" type="text" placeholder="Class Name" />
        </div>
    <button type="submit" class="btn btn-default btn-sm">Filter Classes</button>
    {% endif %}
    <a href="{% url 'sections:class list' %}" class="btn btn-default btn-sm">Clear</a>
    <table class="table">
	    <tr>
	    	<th>Site</th>
	    	<th>Class</th>
            <th>Active Students</th>
	    	<th>Open Seats</th>
	    	<th>Seats</th>
	    	<th>Instructor</th>
	    	<th>Days</th>
	    	<th>Time</th>
	    </tr>
        {% if is_paginated %}
            {% include 'components/pagination2.html' with form_target='class-filter' %}
        {% endif %}
	    {% for section in object_list %}
	    <tr>
	    	<td>{{ section.site }}</td>   
	        <td><a href="{{ section.get_absolute_url }}">{{ section.title }}</a></td>
            <td>{{ section.get_active.count }}</td>
	        <td>{{ section.open_seats }}</td>
	        <td>{{ section.seats }}</td>	        
	        <td>{{ section.teacher }}</td>
	        <td>{{ section.get_days_str }}
	        <td>{{ section.start_time }} to {{ section.end_time }}</td>
	  	</tr>
    	{% endfor %}
    </table>
{% endblock content %}